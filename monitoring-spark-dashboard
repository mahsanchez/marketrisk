https://github.com/LucaCanali/Miscellaneous/tree/master/Spark_Dashboard


Install influxdb1

wget https://dl.influxdata.com/influxdb/releases/influxdb_1.8.10_amd64.deb
sudo dpkg -i influxdb_1.8.10_amd64.deb


Enable 
sudo vi /etc/influxdb/influxdb.conf

[[graphite]]
  enabled = true
  bind-address = ":2003"
  database = "graphite"
  retention-policy = ""
  protocol = "tcp"
  batch-size = 5000
  batch-pending = 10
  batch-timeout = "1s"
  consistency-level = "one"
  separator = "."
  udp-read-buffer = 0
  templates = [
    # JVM source
    "*.*.jvm.pools.* username.applicationid.process.namespace.namespace.measurement*",
    # YARN source
    "*.*.applicationMaster.* username.applicationid.namespace.measurement*",
    # shuffle service source
    "*.shuffleService.* username.namespace.measurement*",
    # streaming
    "*.*.*.spark.streaming.* username.applicationid.process.namespace.namespace.id.measurement*",
    # generic template for driver and executor sources
    "username.applicationid.process.namespace.measurement*" ]
    
Grafana (listen on port 3000)
https://grafana.com/ 

sudo apt-get install -y adduser libfontconfig1
wget https://dl.grafana.com/enterprise/release/grafana-enterprise_9.3.2_amd64.deb
sudo dpkg -i grafana-enterprise_9.3.2_amd64.deb

sudo /bin/systemctl start grafana-server
systemctl start grafana-server.service

netstat -an| grep 3000

Grafana - Create a data source to connect to InfluxDB.

    Set the http URL with the correct port number, default: http://bluefish:8086
    Set the InfluxDB database name: default is graphite (no password)

Add Your DataSource to InfluxDB
